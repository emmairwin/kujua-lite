<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset='utf-8'>
  <title>Kujua \+/ Medic Mobile</title>
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>

<body>
  <div class="container">

    <div class="row">
      <div class="hero-unit">
        <h1><span class="kujua">Kujua</span></h1>
        <!--p>
        <p class="tagline">SMS Forms utility</p>
          <a class="learn-more btn btn-primary btn-large">Learn more</a>
        </p-->
      </div>
    </div>
    
    <div class="row faqs">
        <div class="span4">
          <h2>What is Kujua?</h2>
          <p>
          <span class="kujua">Kujua</span> is a web based SMS data collection
          and analytics tool focused on community health care workers in the
          developing world. We help large health organizations collect and
          analyze data sent from health care workers using ordinary mobile
          phones in remote and rural environments.  
          </p>
        </div>
        <div class="span4">
          <h2>How does it work?</h2>
          <p>
          <span class="kujua">Kujua</span> works together with <i>SMSSync</i>
          and optionally <i>Muvuku</i>.  <i>Muvuku</i> is a framework for rapid
          design, compilation, and deployment of forms that run on nearly any
          ordinary cell phone, using the STK API of the phone. The forms
          collect data on the phone and send messages to <i>SMSSync</i> which
          does an HTTP POST to the web service (<i>Kujua</i>).  <i>Kujua</i>
          creates records and provides an interface to the SMS data.  It
          allowing you to monitor your incoming data, export it to a
          spreadsheet, and manage your related facility data.
          </p>
        </div>
        <div class="span4 what">
          <h2>What is a CouchApp?</h2>
          <p>
          A <i>CouchApp</i> is a web application or service that runs inside of
          CouchDB.  <i>Kujua</i> is a CouchApp.  It incorporates 
          distributed architecture that allows for easy replication
          and sharing of applications and data over HTTP.
          The environments we deploy in have rolling blackouts and
          intermittent connections to the internet. So we must keep the data as
          local to the people using it as possible. CouchDB also provides a web
          server as well as a Javascript interpreter, so the only
          infrastructure requirement to run Kujua is CouchDB.
          </p>
          <a href="#install">Ok, so how do I install it?</a>
        </div>
    </div>

    <div class="row install hide">
      <div class="span6">
        <h2>Install</h2>
        
        <h3>First, get CouchDB</h3>
        <p>We recommend the Couchbase installers, they did a great job of packaging it.</p>
        <ol>
          <li>Go to the <a href="http://www.couchbase.org/get/couchbase-single/2.0">Couchbase Single Server Download</a> page.</li>
          <li>Click the Download button under <i>Developer Preview</i> to the right.</li>
          <li>Click the right link for your operating system, use the .zip file if
          you are on OSX, .exe on Windows.</li>
          <li>Open the install file and follow the instructions.</li>
        </ol>

        <h3>Then, replicate:</h3>

        <p>How do you install a CouchApp?  You make a HTTP request.  Neat, eh?</p>

        <p>We maintain the production version of Kujua at this URL so anyone
        can easily replicate it:</p>

        <pre>https://medic.iriscouch.com/kujua-base</pre>

        <p>Would you like instructions for <a id="curl" href="#withcurl">Curl</a> or <a id="futon" href="#withfuton">Futon</a>?</p>

        <div class="withcurl hide">
        <h4>Using Curl</h4>
        <p>With CouchDB running on localhost run this command:</p>

        <pre>curl -H 'Content-Type: application/json' -X POST http://localhost:5984/_replicate -d '{"source":"https://medic.iriscouch.com/kujua-base","target":"kujua","create_target":true}'</pre>
        </div>
        <div class="withfuton hide">
        <h4>Using Futon</h4>
        <p>With CouchDB running on localhost:</p>
        <ol>
          <li>Navigate to the Replicator screen in Futon: <a href="http://localhost:5984/_utils/replicator.html">http://localhost:5984/_utils/replicator.html</a></li>
          <li>In <b>Remote</b> enter <code>https://medic.iriscouch.com/kujua-base</code></li>
          <li>In <b>Local</b> enter <code>kujua</code></li>
          <li>Click <b>Replicate</b> and wait for replication to complete, should be less than a minute depending on your connection.</li>
        </ol>
        </div>

        <h3>Lastly, follow the Kujua Setup process:</h3>
        <p>A fresh Kujua should now be installed, but there are a few things
        left to configure.</p>
        <ol>
          <li>Point your browser to your Kujua instance: <a href="http://localhost:5984/kujua/_design/kujua-base/_rewrite/">http://localhost:5984/kujua/_design/kujua-base/_rewrite/</a></li> 
          <li>Follow the instructions to finalize the installation.</li>
        </ol>

        <!--h3>Install JSON File</h3>
        <p>Alternatively you can download the CouchApp (JSON file) and create
        the design document yourself.  The Android Gateway is bundled in as well.
        </p>
        <ol>
          <li>
            <p>Download the JSON file: <a
              href="downloads/kujua-base-fa3c9b.json.zip" class="btn btn-primary"
              >kujua-base-fa3c9b.json.zip</a> (2.5M)</p>
            <p>
          <li><p>Unzip it:</p>
            <pre>unzip kujua-base-fa3c9b.json.zip</pre>
          </li>
          <li><p>Install with curl:</p>
            <pre>curl -H 'Content-Type: application/json' -X PUT http://localhost:5984/your-db-name/_design/kujua-base -d @kujua-base-fa3c9b.json</pre>


          </li>
        </ol-->

        <div class="smssync">
          <h3>Install SMSSync</h3>

          <p>To get SMS messages in your Couch we recommend SMSSync,
          navigate your Android browser to this page then click the button to
          begin downloading to your device.</p>

          <p><a href="https://medic.s3.amazonaws.com/downloads/gateway/SMSSync-kujua2-debug.apk" 
                   class="btn btn-primary"
                   >SMSSync 1.1.9 kujua.2 Beta (196K)</a>
                 <small>
                   <a href="https://medic.s3.amazonaws.com/downloads/gateway/SMSSync-kujua2-debug.apk.md5">md5</a>,  
                   <a href="https://medic.s3.amazonaws.com/downloads/gateway/SMSSync-kujua2-debug.apk.sha">sha</a>
                 </small>
         </p>
        </div>

      </div>
      <div class="span6 develop">

        <h2>Develop</h2>

        <p>To make your own modifications to Kujua we recommend using <a
          href="http://kan.so/">Kanso</a>.  Kanso assembles the JSON design
        document and provides a framework for dealing with CouchApps.  To start
        developing on Kujua do the following:</p>

        <ol>
          <li><p><a href="http://kan.so/install">Install Kanso</a></p></li>
          <li><p>Clone the source code from Github:</p>
          <pre>git clone https://github.com/medic/kujua-base.git</pre>
          </li>
          <li><p>Then run:</p>
          <pre>kanso push kujua</pre>
          </li>
        </ol>
        <h2>Help</h2>
        <p>Is this all too complicated?  Yea, we know.  Please reach out, we
        are glad to help.  Contact us on <a
          href="http://github.com/medic">Github</a> or you can find us on IRC
        #medicmobile on FreeNode.</p> 

        <p>Also please see the <a
          href="https://medic.iriscouch.com/kujua-base/_design/kujua-base/_rewrite/docs/install/">complete install documentation</a>.
        </p>
      </div>
    </div>


    <p class="footer">&copy; <span class="year"></span> Medic Mobile
    </p>
    <p class="footer-logo">
      <a href="https://github.com/medic">
        <img src="branding/static/img/medic-25.png" />
      </a>
    </p> 

  </div>
</body>
<script src="js/jquery.js" type="text/javascript"></script>
<script src="js/main.js" type="text/javascript"></script>
</html>
